[SPRITES LOGIC SECTION]
%%
    Player :=
    { 
        _8Directions,
        ScrollTo,
        BoundToLayout
    }

    Bullet := 
    {
        BulletMovement,
        DestroyOutSideLayout
    }
    Monster (int health = 5) :=
    {
        BulletMovement
    }

    Explode := 
    {
        Fade
    }
^^

[VARIBLES SECTION]
%%
        Player player;
        TextBox textBoxScore;
        TextBox textBoxBullets;
        Bullet bullet;
        Monster monster;
        int bullets = 100;
        int score = 0;
^^

[INITIALIZE SECTION]
%%
        windowSizeX = 1920;
        windowSizeY = 1080;
        layoutSizeX = windowSizeX * 2;
        layoutSizeY = windowSizeY * 2;
        layoutTexture = "TiledBackground";
        explodeTexture = "explode";


        player = new  Player("player", 10, 10);
        player.speed = 4;
        player.camera = _camera;
        player.windowSizeX = windowSizeX;
        player.windowSizeY = windowSizeY;
        player.layoutSizeX = layoutSizeX;
        player.layoutSizeY = layoutSizeY;
        player.IsEdge = true;

        textBoxScore = new  TextBox(25, 25, "Score: ");
        textBoxScore.text = textBoxScore.text + bullets;

        textBoxBullets = new  TextBox(25, 50, "Count bullets: ");
        textBoxBullets.text = textBoxBullets.text + score;
^^

[UPDATE SECTION]
%%
        if (Conditions.EveryTick())
        {
            Actions.SetAngleForward(player, Mouse.X, Mouse.Y, false);

            textBoxBullets.text = "Count bullets: " + bullets;
            textBoxScore.text = "Score: " + score;
        }

        if (Conditions.OnMouseLeftClicked(gameTime))
        {
            bullet = new Bullet("bullet", player.PositionX, player.PositionY);
            bullet.speed = 10;
            bullet.layoutSizeX = layoutSizeX;
            bullet.layoutSizeY = layoutSizeY;
            bullet.Rotation = player.Rotation;
            bullets = bullets - 1;
        }

        
        if (Conditions.EveryXSeconds(gameTime, 3))
        {
            int rand = getRandom(1024);
            monster = new Monster("monster", 1400, rand);
            monster.Rotation = 180;
            monster.speed = 4;
        }
^^
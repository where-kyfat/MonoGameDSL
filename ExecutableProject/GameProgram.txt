[SPRITES LOGIC SECTION]
%%
    Player :=
    { 
        _8Directions,
        ScrollTo,
        BoundToLayout
    }

    Bullet := 
    {
        BulletMovement,
        DestroyOutSideLayout
    }
^^

[VARIBLES SECTION]
%%
        Player player;
        TextBox textBox;
        int bullets = 10;
^^

[INITIALIZE SECTION]
%%
        windowSizeX = 1920;
        windowSizeY = 1080;
        layoutSizeX = windowSizeX * 2;
        layoutSizeY = windowSizeY * 2;
        layoutTexture = "TiledBackground";
        bulletTexture = "bullet";

        player = new  Player("player", 10, 10);
        player.speed = 4;
        player.camera = _camera;
        player.windowSizeX = windowSizeX;
        player.windowSizeY = windowSizeY;
        player.layoutSizeX = layoutSizeX;
        player.layoutSizeY = layoutSizeY;
        player.IsEdge = true;

        textBox = new  TextBox(25, 25, "Count bullets: ");
        textBox.text = textBox.text + bullets;
^^

[UPDATE SECTION]
%%
        if (Conditions.EveryTick())
        {
            Actions.SetAngleForward(player, Mouse.X, Mouse.Y, false);

            textBox.text = "Count bullets: " + bullets;
        }

        if (Conditions.OnMouseLeftClicked(gameTime) && bullets > 0)
        {
            Bullet bullet = new Bullet(bulletTexture, player.PositionX, player.PositionY);
            bullet.speed = 10;
            bullet.layoutSizeX = layoutSizeX;
            bullet.layoutSizeY = layoutSizeY;
            bullet.Rotation = player.Rotation;
            AddSprite(bullet);
            bullets -= 1;
        }
^^